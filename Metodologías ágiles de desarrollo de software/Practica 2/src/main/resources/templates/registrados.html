<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments :: head (titulo='Usuarios registrados')">
    <!-- Incluir el archivo CSS de Bootstrap desde la CDN, para que funcione el desplegable-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <header>
        <nav th:replace="fragments :: navbar"></nav>
    </header>

    <h1>Usuarios Registrados</h1>
    <div class="row mt-3">
        <div class="col">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Email</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="usuario : ${usuarios}">
                    <td th:text="${usuario.id}"></td>
                    <td th:text="${usuario.email}"></td>

                    <td><a class="btn btn-primary btn-xs" th:href="@{/registrados/{id}(id=${usuario.id})}"/>Detalles</a></td>
                    <td><a class="btn btn-danger btn-xs" th:href="@{/usuarios/bloquear/{id}(id=${usuario.id})}" th:if="${!usuario.bann}">Bloquear</a></td>
                    <td><a class="btn btn-success btn-xs" th:href="@{/usuarios/desbloquear/{id}(id=${usuario.id})}" th:if="${usuario.bann}">Desbloquear</a></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div th:replace="fragments :: javascript"></div>

    <!-- Incluir el archivo JavaScript de Bootstrap desde la CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
